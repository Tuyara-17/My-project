Выполнил: Жиркова Туяра 04.10.23

Задание №1.
 
В файле phones.txt содержатся номера телефонов.
Необходимо найти среди них "золотые" и "зеркальные" номера.
Например: 775544, 654456, 444888, и т.д. 
При решении задач использовать язык программирования PL SQL



--Создание таблицы в базе данных на Oracle SQL Developer
sql
CREATE TABLE phones_aeb (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    phone_number NUMBER(9,0)
);



--Заполнение таблицы данными. Здесь не весь код, код со множеством номеров сгенерировала на Python.

BEGIN
   INSERT INTO phones_aeb (phone_number) VALUES (129196);
   INSERT INTO phones_aeb (phone_number) VALUES (710510);
   INSERT INTO phones_aeb (phone_number) VALUES (553433);
   COMMIT;
END;
/

--Поиск золотых номеров
--Золотой номер — это телефонный номер, в комбинации которого одна цифра встречается не менее трех раз подряд или состоит из пар цифр.


DECLARE
    phone_number phones_aeb.phone_number%TYPE;
BEGIN
    FOR phone_record IN (SELECT phone_number FROM phones_aeb) LOOP
        IF REGEXP_LIKE (TO_CHAR(phone_record.phone_number), '(.)\1{2,}|((.)\3){3}') THEN
            dbms_output.put_line('Золотой номер: ' ||phone_record.phone_number);
        END IF;
    END LOOP;
END;



--Поиск зеркальных номеров
--Зеркальный номер - это такой номер, который читается одинаково как слева направо, так и справа налево

DECLARE
  CURSOR c IS
    SELECT phone_number
    FROM phones_aeb
    WHERE TO_CHAR(phone_number) = REVERSE(TO_CHAR(phone_number));
BEGIN
  FOR i IN c
  LOOP
    DBMS_OUTPUT.PUT_LINE('Зеркальный номер: ' ||i.phone_number);
  END LOOP;
END;

-- Вывод в окне Dbms Output
Золотой номер: 845559
Золотой номер: 845559
Золотой номер: 679666
Золотой номер: 417999
Золотой номер: 666729
Золотой номер: 222717
Золотой номер: 933999
Золотой номер: 116644
Золотой номер: 666619

Зеркальный номер: 121121
Зеркальный номер: 505505
Зеркальный номер: 425524

